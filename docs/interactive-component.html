<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Interactive component | Ann Arbor Crime Cases Analysis</title>
  <meta name="description" content="Chapter 5 Interactive component | Ann Arbor Crime Cases Analysis" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Interactive component | Ann Arbor Crime Cases Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Interactive component | Ann Arbor Crime Cases Analysis" />
  
  
  

<meta name="author" content="Yingjie Qu, Xinyu He, Zhihang Xia" />


<meta name="date" content="2022-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.1/parcoords.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">AnnArborCrimes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#data-from-ann-arbor-police-department"><i class="fa fa-check"></i><b>3.1.1</b> Data from Ann Arbor Police department</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#data-from-fbi-ucr-program"><i class="fa fa-check"></i><b>3.1.2</b> Data from FBI UCR Program</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#data-from-ann-arbor-police-department-1"><i class="fa fa-check"></i><b>3.2.1</b> Data from Ann Arbor Police department</a></li>
<li class="chapter" data-level="3.2.2" data-path="data.html"><a href="data.html#data-from-fbi-ucr-program-1"><i class="fa fa-check"></i><b>3.2.2</b> Data from FBI UCR Program</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.3</b> Missing value analysis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#is-ann-arbor-a-relatively-dangerous-city-in-michigan"><i class="fa fa-check"></i><b>4.1</b> Is Ann Arbor a relatively dangerous city in Michigan?</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#what-type-of-crimes-happen-the-most"><i class="fa fa-check"></i><b>4.2</b> What type of crimes happen the most?</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#which-month-does-the-crime-cases-happen-the-most-frequently"><i class="fa fa-check"></i><b>4.3</b> Which month does the crime cases happen the most frequently?</a></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#what-day-do-the-crime-cases-happen-the-most-often"><i class="fa fa-check"></i><b>4.4</b> What day do the crime cases happen the most often?</a></li>
<li class="chapter" data-level="4.5" data-path="results.html"><a href="results.html#in-what-time-of-a-day-do-the-cases-happen-more-often"><i class="fa fa-check"></i><b>4.5</b> In what time of a day do the cases happen more often?</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="results.html"><a href="results.html#time-series-plot-among-24-hours-of-a-day"><i class="fa fa-check"></i><b>4.5.1</b> Time Series Plot among 24 hours of a day</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="results.html"><a href="results.html#in-which-part-of-the-city-do-the-cases-happen-more-often"><i class="fa fa-check"></i><b>4.6</b> In which part of the city do the cases happen more often?</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="results.html"><a href="results.html#heatmap-for-different-locations-x-y-coordiantes"><i class="fa fa-check"></i><b>4.6.1</b> heatmap for different locations (x, y coordiantes)</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="results.html"><a href="results.html#is-public-security-in-ann-arbor-getting-better-during-these-years"><i class="fa fa-check"></i><b>4.7</b> Is public security in Ann Arbor getting better during these years?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>5</b> Interactive component</a></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ann Arbor Crime Cases Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Interactive component<a href="interactive-component.html#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<script src="https://d3js.org/d3.v7.js""></script>

<div id = "plot"></div>
<script>

  const w = 600;
  const h = 600;
  const margin = {top: 25, right: 0, bottom: 25,
      left: 25};
  const innerWidth = w - margin.left - margin.right;
  const innerHeight = h - margin.top - margin.bottom;


  const bardata = [{month: "Jan", value: 421},
                 {month: "Feb", value: 378},
                 {month: "Mar", value: 414},
                 {month: "Apr", value: 343},
                 {month: "May", value: 493},
                 {month: "Jun", value: 475},
                 {month: "July", value: 474},
                 {month: "Aug", value: 489},
                 {month: "Sep", value: 538},
                 {month: "Oct", value: 517},
                 {month: "Nov", value: 487},
                 {month: "Dec", value: 441}]

  const xScale = d3.scaleBand()
      .domain(bardata.map(d => d.month))
      .range([0, innerWidth])
      .paddingInner(.1);

  const yScale = d3.scaleLinear()
      .domain([0, d3.max(bardata.map(d => d.value))])
      .range([innerHeight, 0])

  const xAxis = d3.axisBottom()
      .scale(xScale);

  const yAxis = d3.axisLeft()
      .scale(yScale);

// add svg

  const svg = d3.select("div#plot")
    .append("svg")
      .attr("width", w)
      .attr("height", h);

// add background rectangle

  svg.append("rect")
      .attr("x", 0)
      .attr("y", 0)
      .attr("width", w)
      .attr("height", h)
      .attr("fill", "aliceblue");

// add bars as a group

  const bars = svg.append("g")
      .attr("id", "plot")
      .attr("transform", `translate (${margin.left}, ${margin.top})`)
    .selectAll("rect")
      .data(bardata);

  bars.enter().append("rect")
      .attr("x", d => xScale(d.month))
      .attr("y", d => yScale(d.value))
      .attr("width", xScale.bandwidth())
      .attr("height", d => innerHeight - yScale(d.value))
      .attr("fill", "white");


// add axes

  svg.append("g")
      .attr("class", "xAxis")
      .attr("transform", `translate (${margin.left}, ${h - margin.bottom})`)
      .call(xAxis);

  svg.append("g")
      .attr("class", "yAxis")
      .attr("transform", `translate (${margin.left}, ${margin.top})`)
      .call(yAxis);
      
    
d3.select("div#plot").select("svg").select("g")
      .selectAll("text")
      .data(bardata)
      .enter()
      .append("text")
      .attr("x", d => xScale(d.month) + 18)
      .attr("y", d => yScale(d.value) + 25)
      .text(d => d.value)
      .attr("fill", "blue")
      .attr("text-anchor", "middle");
      

d3.select("div#plot").select("svg").select("g")
      .selectAll("rect")
  .transition()
  .duration(2000)
  .attr("cx", "25")
  .attr("fill", "lightblue");

// add interactive transitioning
d3.select("svg").select("g").selectAll("rect")
  .on("click", function(event) {
    d3.select(event.currentTarget)
      .transition()
  .duration(2000)
  .attr("cy", "25")
  .attr("fill", "lightgreen");
   });
      
  

</script>
<p>For the D3 project, I managed to visualize the barchart of the number of crime cases of each month in the year 2022. In particular, I added 12 columns to illustrate the number of cases in each month. On each column, I labeled the case numbers. The interaction and transitivity parts lie as follows:</p>
<p>When the web page is open, the colors of all columns slowly transform from white to light blue. When users click on any of the twelve columns, the column color will change from light blue to light green.</p>
<p>The findings are as follows:
The months that have the most cases in the year 2022 include September, October, and May. September has the largest number of crime cases: 538. October has 517 cases. May has 493 cases.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/qyingjie216/AnnArborCrimes/edit/main/interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/qyingjie216/AnnArborCrimes/blob/main/interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
